============================
 Invenio v1.1.7 is released
============================

Invenio v1.1.7 was released on November 20, 2016.

About
-----

Invenio is a digital library framework enabling you to build your own
digital library or document repository on the web.

This old stable release update is recommended to all Invenio sites
using v1.1.6 or previous releases.

New features
------------

+ installation

  - Initial release of kickstart installations scripts. Ported from
    the old `tiborsimko/invenio-devscripts` repository of helper
    scripts and adapted to resemble Invenio 3 kickstart installation
    scripts. Tested on Ubuntu 12.04 and CentOS 6.

Improved features
-----------------

+ I18N

  - Updates Slovak translation from Transifex.
  - Updates German, French, Slovak and Spanish translations from
    Transifex.
  - Updates Catalan, French, German, Italian, Russian, Slovak, and
    Spanish translations from Transifex.
  - Completes Italian translation.

+ installation

  - Installation scripts now support Ubuntu 14.04 LTS.
  - Uses `/usr/sbin/service foo` consistently everywhere to restart
    daemons instead of deprecated `/etc/init.d/foo`.
  - Pinned specific JSON-js and Mediaelement versions instead of using
    the latest master branch commits. (#11)

+ urlutils

  - Uses `md5` from `hashlib` when available. (#3382)

Bug fixes
---------

+ BibDocFile

  - Purges old extracted text too, when purging a BibDoc. (#3519)

+ BibSched

  - Makes `recid` argument optional in tasklet `bst_create_icons`.
    (#2192)

+ OAIHarvest

  - Fixes the parsing of resumptiontoken in incoming OAI-PMH XML which
    could fail when the resumptiontoken was empty.

+ OAIRepository

  - Fixes default configuration of CFG_OAI_METADATA_FORMATS, correctly
    assigning the XSD and XML namespace to the corresponding metadata
    prefix.

+ WebAccess

  - Improves the WebAccess FireRole documentation by providing
    corrected example on how to use groups in FireRole definitions.
    (#3107) (#3225)

+ WebSearch

  - Fixes asynchronous external collection getter tests following the
    update of the Invenio project web site.

+ WebSession

  - Removes pending groups from user info object.  (#3526)

+ bibupload

  - In case of replicating datasets between instances by means of OAI
    harvesting it is plausible to check for external OAI-IDs not only
    in the field specified by CFG_BIBUPLOAD_EXTERNAL_OAIID_TAG but
    also in CFG_OAI_ID_FIELD. (#2812) (PR #2816)

+ global

  - Silences most MySQL UTF-8 warnings related to inserting into and
    updating BLOB table columns.

+ installation

  - Amends canonical location of py-editdist and pyRXP packages,
    fixing the installation problem.
  - Amends installation procedures to download necessary jQuery
    plugins from Invenio-hosted web site, fixing problems with non-
    existing Google Code pages. (#3620)
  - Fixes Apache virtual host configuration generation on CentOS 6.

+ inveniogc

  - Fixes garbage collection of temporary directories created by
    websubmit_icon_creator and websubmit_file_stamper. (#3556) (PR
    #3558)

Download
--------

- http://invenio-software.org/download/invenio-1.1.7.tar.gz
- http://invenio-software.org/download/invenio-1.1.7.tar.gz.md5
- http://invenio-software.org/download/invenio-1.1.7.tar.gz.sig

Installation
------------

Please follow the INSTALL file bundled in the distribution tarball.

Upgrade
-------

Please proceed as follows:

a) Stop your bibsched queue and your Apache server.

b) Install the update::

     $ tar xvfz invenio-1.1.7.tar.gz
     $ cd invenio-1.1.7
     $ sudo rsync -a /opt/invenio/etc/ /opt/invenio/etc.OLD/
     $ sh /opt/invenio/etc/build/config.nice
     $ make
     $ make check-upgrade
     $ sudo -u www-data make install
     $ sudo rsync -a /opt/invenio/etc.OLD/ \
         --exclude invenio-autotools.conf \
         /opt/invenio/etc/ # (1)
     $ sudo -u www-data /opt/invenio/bin/inveniocfg --update-all
     $ sudo -u www-data /opt/invenio/bin/inveniocfg --upgrade

     (1) If you are upgrading from previous stable release series
         (v0.99 or v1.0), please don't run this rsync command but
         diff, in order to inspect changes and adapt your old
         configuration to the new Invenio v1.1 release series.

c) Restart your Apache server and your bibsched queue.

Happy hacking and thanks for flying Invenio.

| Invenio Development Team
|   Email: info@invenio-software.org
|   IRC: #invenio on irc.freenode.net
|   Twitter: http://twitter.com/inveniosoftware
|   GitHub: http://github.com/inveniosoftware
|   URL: http://invenio-software.org
